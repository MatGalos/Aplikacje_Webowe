(()=>{"use strict";class e{cellId;cellValue;htmlElement;rowPos;colPos;constructor(e,t,l){this.htmlElement=e,this.rowPos=t,this.colPos=l,this.cellId=`${t}${l}`}setCellValue(e){return 1!==this.cellValue&&-1!==this.cellValue&&(this.cellValue=e,this.setCellInnerHtml(),!0)}refreshCellValue(e){this.cellValue=e,this.setCellInnerHtml()}setCellInnerHtml(){switch(this.cellValue){case-1:this.htmlElement.innerHTML="O";break;case 1:this.htmlElement.innerHTML="X";break;default:this.htmlElement.innerHTML=""}}}new class{cells;currentSymbol;tableSize;constructor(t){this.currentSymbol=1,this.cells=new Array(t),this.tableSize=t;let l=document.getElementById("tictactoe"),s=0;for(let r=0;r<t;r++){let c=l.insertRow(r);for(let l=0;l<t;l++){let t=c.insertCell(l);t.className="cell";const o=new e(t,r,l);this.cells[s]=o,t.addEventListener("click",(()=>this.makeMove(o)),!1),s++}}}setHeaderValue(e){const t=document.getElementById("header");let l="";switch(e){case 1:l="Current Move: Cross";break;case-1:l="Current Move: Circle";break;case 10:l="Winner is Cross";break;case-10:l="Winner is Circle";break;case 0:l="Draw!"}t.innerHTML=l}makeMove(e){if(e.setCellValue(this.currentSymbol)){if(this.checkForGameFinish())return;this.currentSymbol*=-1,this.setHeaderValue(this.currentSymbol)}}checkForGameFinish(){const e=this.tableSize;return this.rowCheck(e)||this.columnCheck(e)||this.diagonalCheck(e)?(this.setHeaderValue(10*this.currentSymbol),!0):!!this.tieCheck(e)&&(this.setHeaderValue(0),!0)}rowCheck(e){const t=this.cellsWithActualSymbol(),l=[];if(t.length<e)return!1;for(let s=0;s<e;s++){let r=0;for(let c=0;c<e;c++)for(const e of t)e.colPos===c&&e.rowPos===s&&(r++,l.push(e));if(r===e)return!0;l.length=0}return!1}columnCheck(e){const t=this.cellsWithActualSymbol(),l=[];if(t.length<e)return!1;for(let s=0;s<e;s++){let r=0;for(let c=0;c<e;c++)for(const e of t)e.colPos===s&&e.rowPos===c&&(r++,l.push(e));if(r===e)return!0;l.length=0}return!1}diagonalCheck(e){const t=this.cellsWithActualSymbol(),l=[];if(t.length<e)return!1;let s=0;for(let r=0;r<e;r++)for(const e of t)e.rowPos===r&&e.colPos===r&&(s++,l.push(e));if(s===e)return!0;s=0,l.length=0;for(let r=0;r<e;r++)for(const c of t)c.colPos===e-1-r&&c.rowPos===r&&(s++,l.push(c));return s===e}tieCheck(e){return 0===this.cells.filter((e=>null==e.cellValue||isNaN(e.cellValue))).length}cellsWithActualSymbol(){const e=[];for(const t of this.cells)t.cellValue===this.currentSymbol&&e.push(t);return e}}(3)})();